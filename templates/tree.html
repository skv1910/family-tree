<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="{{CSS_URL}}">
</head>
<body>
    <!-- Header is now in Streamlit, only keeping zoom controls floating -->
    <div class="zoom-controls">
        <span class="zoom-label" id="zl">100%</span>
        <button class="btn btn-light" onclick="zoomOut()">âˆ’</button>
        <button class="btn btn-light" onclick="zoomIn()">+</button>
        <button class="btn btn-light" onclick="resetView()">Reset</button>
    </div>

    <div class="canvas" id="canvas">
        <div class="canvas-inner" id="inner">
            {{SVG_CONTENT}}
        </div>
    </div>

    <!-- Streamlit Component Communication -->
    <script>
        // Send data back to Streamlit
        function sendToStreamlit(data) {
            window.parent.postMessage({
                isStreamlitMessage: true,
                type: "streamlit:componentValue",
                value: data
            }, "*");
        }

        // Also try the Streamlit object if available
        function setStreamlitValue(data) {
            sendToStreamlit(data);
            // Signal that component height may have changed
            window.parent.postMessage({
                isStreamlitMessage: true,
                type: "streamlit:setFrameHeight"
            }, "*");
        }

    </script>
    <script src="{{JS_URL}}"></script>
</body>
</html>
